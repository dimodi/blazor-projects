@page "/listview"

@using Telerik.DataSource
@using Telerik.DataSource.Extensions

<TelerikListView Data="@ListViewData"
                 TItem="@Product"
                 Pageable="true">
    <HeaderTemplate>
        header
    </HeaderTemplate>
    <Template>
        template <br />
    </Template>
</TelerikListView>

@code {
    List<Product> ListViewData { get; set; } = new List<Product>();

    async Task OnListViewRead(ListViewReadEventArgs args)
    {
        await Task.Delay(200);

        DataSourceResult result = ListViewData.ToDataSourceResult(args.Request);

        args.Data = result.Data;
        args.Total = result.Total;
    }

    protected override void OnInitialized()
    {
        ListViewData = new List<Product>();
        var rnd = new Random();

        for (int i = 1; i <= 7; i++)
        {
            ListViewData.Add(new Product()
            {
                Id = i,
                Name = $"Product {i}",
                Price = (decimal)rnd.Next(1, 100),
                Stock = rnd.Next(0, 50),
                ReleaseDate = DateTime.Now.AddDays(-rnd.Next(60, 1000)),
                InProduction = i % 3 == 0
            });
        }
    }

    public class Product
    {
        public int Id { get; set; }
        public string Name { get; set; } = string.Empty;
        public decimal Price { get; set; }
        public int Stock { get; set; }
        public DateTime ReleaseDate { get; set; }
        public bool InProduction { get; set; }
    }
}
